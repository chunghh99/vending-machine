import{a as F,b as h,c as b,d as D,f as q,g as I,h as L,i as M,j as P,l as A,m as B,n as G,o as w,p as T}from"./chunk-DYYFGZU4.js";import{Aa as x,Bb as e,Bc as S,Cb as r,Cc as N,Db as p,Kb as g,Lb as s,Ub as a,Xa as l,Ya as v,Zb as _,ga as C,ia as y,pb as d,rb as m,tb as E}from"./chunk-SOYHKUIL.js";import"./chunk-4L4RMVSS.js";var V=(()=>{let n=class n{constructor(t){this.el=t}onInputChange(t){let u=this.el.nativeElement.value.replace(/[^\d,]/g,"");u=this.removeExtraCommas(u),this.el.nativeElement.value=this.formatCurrency(u)}formatCurrency(t){return t.replace(/\B(?=(\d{3})+(?!\d))/g,",")}removeExtraCommas(t){return t.replace(/,/g,"")}};n.\u0275fac=function(o){return new(o||n)(v(x))},n.\u0275dir=y({type:n,selectors:[["","appNumericCurrency",""]],hostBindings:function(o,u){o&1&&g("ngModelChange",function(O){return u.onInputChange(O)})},standalone:!0});let i=n;return i})();function H(i,n){i&1&&(e(0,"div",25),a(1," Gi\xE1 c\u1EA3 kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng. "),r())}function j(i,n){if(i&1&&(e(0,"div"),d(1,H,2,0,"div",24),r()),i&2){let c=s().index,t=s();l(),m("ngIf",t.showError(c,"price","required"))}}function R(i,n){i&1&&(e(0,"div",25),a(1," S\u1ED1 l\u01B0\u1EE3ng kh\xF4ng \u0111\u01B0\u1EE3c \u0111\u1EC3 tr\u1ED1ng. "),r())}function U(i,n){if(i&1&&(e(0,"div"),d(1,R,2,0,"div",24),r()),i&2){let c=s().index,t=s();l(),m("ngIf",t.showError(c,"quantity","required"))}}function z(i,n){if(i&1&&(e(0,"div",17)(1,"div",18),p(2,"input",19)(3,"input",20),r(),e(4,"div",18),p(5,"input",21),d(6,j,2,1,"div",22),r(),e(7,"div",18),p(8,"input",23),d(9,U,2,1,"div",22),r()()),i&2){let c=n.index,t=s();m("formGroupName",c),l(5),E("is-invalid",t.validField(c,"price")),l(),m("ngIf",t.validField(c,"price")),l(2),E("is-invalid",t.validField(c,"quantity")),l(),m("ngIf",t.validField(c,"quantity"))}}var Y=(()=>{let n=class n{constructor(t){this.fb=t,this.products=[{productName:"S\u1EA3n ph\u1EA9m",quantity:"10",price:"10000"},{productName:"S\u1EA3n ph\u1EA9m",quantity:"10",price:"10000"},{productName:"S\u1EA3n ph\u1EA9m",quantity:"10",price:"10000"}]}ngOnInit(){this.productForm=this.fb.group({productList:this.fb.array([])}),this.products.forEach(t=>{this.productList.push(this.createProductItem(t))}),console.log(this.productForm.value)}get productList(){return this.productForm.get("productList")}createProductItem(t){return this.fb.group({productName:[t.productName],quantity:[this.formatCurrency(t.quantity),[h.required]],price:[this.formatCurrency(t.price),[h.required]]})}formatCurrency(t){return t?t.replace(/\B(?=(\d{3})+(?!\d))/g,","):""}validField(t,o){return this.productList.controls[t].get(o).invalid&&(this.productList.controls[t].get(o).dirty||this.productList.controls[t].get(o).touched)}showError(t,o,u){let f=this.productList.controls[t].get(o);return f.hasError(u)&&f.touched}onUpdateProduct(){console.log("price",this.productList.controls[0].get("price").errors),console.log("product form",this.productForm.value)}};n.\u0275fac=function(o){return new(o||n)(v(w))},n.\u0275cmp=C({type:n,selectors:[["app-product-management"]],standalone:!0,features:[_],decls:39,vars:2,consts:[[1,"row","mt-3"],[1,"col-md-2","col-sm-2","col-xs-6"],[1,"form-label"],["aria-label","",1,"form-select","custom-select"],["value","0",1,"custom-option"],["value","1",1,"custom-option"],["value","2",1,"custom-option"],["value","3",1,"custom-option"],[1,"col-md-4","col-xs-12"],[1,"form-label","col-form-label"],[1,"required"],[3,"formGroup"],["formArrayName","productList"],["class","row mt-3",3,"formGroupName",4,"ngFor","ngForOf"],[1,"col-12","text-center"],["type","button",1,"btn","btn-primary-custom",3,"click"],[1,"fa","fa-save"],[1,"row","mt-3",3,"formGroupName"],[1,"col-md-4","col-xs-12","mt-1"],["hidden","true",1,"form-control"],["formControlName","productName","id","productName","readonly","",1,"form-control"],["formControlName","price","id","price","appNumericCurrency","","maxlength","7",1,"form-control"],[4,"ngIf"],["formControlName","quantity","id","quantity","appNumericCurrency","","maxlength","7",1,"form-control"],["class","error-message",4,"ngIf"],[1,"error-message"]],template:function(o,u){o&1&&(e(0,"h4"),a(1,"C\u1EADp nh\u1EADt h\xE0ng h\xF3a"),r(),e(2,"div",0)(3,"div",1)(4,"label",2),a(5," C\xE2y b\xE1n h\xE0ng"),r()(),e(6,"div",1)(7,"select",3)(8,"option",4),a(9,"Ch\u1ECDn c\xE2y b\xE1n h\xE0ng"),r(),e(10,"option",5),a(11,"C\xE2y 1"),r(),e(12,"option",6),a(13,"C\xE2y 2"),r(),e(14,"option",7),a(15,"C\xE2y 3"),r()()()(),e(16,"div",0)(17,"div",8)(18,"label",9),a(19,"S\u1EA3n ph\u1EA9m"),r()(),e(20,"div",8)(21,"label",9),a(22,"Gi\xE1 c\u1EA3(\u0111)"),e(23,"span",10),a(24,"*"),r()()(),e(25,"div",8)(26,"label",9),a(27,"S\u1ED1 l\u01B0\u1EE3ng"),e(28,"span",10),a(29,"*"),r()()()(),e(30,"form",11)(31,"div",12),d(32,z,10,7,"div",13),r(),e(33,"div",0)(34,"div",14)(35,"button",15),g("click",function(){return u.onUpdateProduct()}),p(36,"i",16),a(37," C\u1EADp nh\u1EADt"),r()()(),p(38,"div"),r()),o&2&&(l(30),m("formGroup",u.productForm),l(2),m("ngForOf",u.productForm.get("productList").controls))},dependencies:[S,T,q,A,B,F,b,D,G,I,P,L,M,V,N]});let i=n;return i})();export{Y as ProductManagementComponent};
