import{a as $}from"./chunk-B5M6CCOG.js";import{a as V}from"./chunk-BNZEDEBD.js";import{L as D}from"./chunk-XJQMJ5FV.js";import{a as O}from"./chunk-DHM2ONHF.js";import{b as X}from"./chunk-EGJNLWBA.js";import{a as q}from"./chunk-OPDTKCI5.js";import"./chunk-BKZFVQBW.js";import{a as L}from"./chunk-CI3TO52C.js";import{a as u}from"./chunk-ZJO5XFAT.js";import{e as k,f as M,k as B,n as j,s as U,u as G}from"./chunk-3AEYLFKI.js";import{a as F}from"./chunk-HNKJNLW6.js";import"./chunk-AFJOMKLS.js";import{d as N}from"./chunk-TN45MXFT.js";import"./chunk-4C57YJA5.js";import{Bc as w,Cb as y,Fb as g,Gb as v,Ma as I,Qa as r,Qb as a,Ra as d,Rb as h,Yb as A,cc as b,dc as _,kb as T,la as C,mb as l,oa as x,va as E,wa as P,wb as i,xb as n,yb as p}from"./chunk-ZFL4TBTD.js";import"./chunk-4L4RMVSS.js";var z=(()=>{let m=class m{transform(e,t="en-US"){return e==null||isNaN(e)?"":new Intl.NumberFormat(t).format(e)}};m.\u0275fac=function(t){return new(t||m)},m.\u0275pipe=x({name:"commaSeparated",type:m,pure:!0,standalone:!0});let s=m;return s})();function R(s,m){if(s&1){let c=y();i(0,"tr")(1,"td",15),a(2),n(),i(3,"td",15),a(4),n(),i(5,"td",16),a(6),n(),i(7,"td",16),a(8),n(),i(9,"td",16),p(10,"img",17),n(),i(11,"td",18),a(12),b(13,"commaSeparated"),n(),i(14,"td",18),a(15),b(16,"commaSeparated"),n(),i(17,"td",15)(18,"a",19),g("click",function(){let t=E(c).$implicit,o=v();return P(o.onDetail(t))}),p(19,"i",20),n(),i(20,"a",21),g("click",function(){let t=E(c).$implicit,o=v();return P(o.onDelete(t))}),p(21,"i",22),n()()()}if(s&2){let c=m.$implicit,e=m.index,t=v();r(),l("width","5%"),r(),h(e+1+(t.currentPage-1)*t.itemPerPage),r(),l("width","5%"),r(),h(c.code),r(),l("width","15%"),r(),h(c.name),r(),l("width","15%"),r(),h(t.convertType(c.type)),r(),l("width","15%"),r(),l("src",c.image,I),r(),l("width","15%"),r(),h(_(13,17,c.importedPrice)),r(2),l("width","15%"),r(),h(_(16,19,c.basePrice)),r(2),l("width","5%"),r(),l("cTooltip","Chi ti\u1EBFt"),r(2),l("cTooltip","X\xF3a")}}var ce=(()=>{let m=class m{constructor(e,t,o,f,S,J){this.fb=e,this.router=t,this.itemService=o,this.spinnerService=f,this.modalService=S,this.toastr=J,this.products=[{productName:"S\u1EA3n ph\u1EA9m",quantity:"10",price:"10000"},{productName:"S\u1EA3n ph\u1EA9m",quantity:"10",price:"10000"},{productName:"S\u1EA3n ph\u1EA9m",quantity:"10",price:"10000"}],this.itemList=[{id:1,firstName:"Johnddddddddddddddddddddd",lastName:"Doe",email:"john.doe@example.com"},{id:2,firstName:"Jane",lastName:"Doe",email:"jane.doe@example.com"},{id:3,firstName:"Alice",lastName:"Smith",email:"alice.smith@example.com"},{id:4,firstName:"Bob",lastName:"Johnson",email:"bob.johnson@example.com"},{id:5,firstName:"Emily",lastName:"Williams",email:"emily.williams@example.com"}],this.itemsDefault=[],this.itemsAll=[],this.itemstable=[],this.totalItem=0,this.currentPage=1,this.itemPerPage=10,this.event=event}ngOnInit(){this.formSearch=this.fb.group({productName:[""]}),this.getAllItems()}getAllItems(){this.spinnerService.show(),this.itemService.getAllItem().subscribe(e=>{console.log("item res: ",e),this.spinnerService.hide(),e&&e.status&&e.status.code===u.STATUS.SUCCESS&&e.data&&e.data.length>0&&(e.data.forEach(t=>{t.value=t.name,t.key=t.id}),this.itemsDefault=e.data.filter(t=>t.status===u.ITEM_STATUS.ACTIVE),this.itemsAll=[...this.itemsDefault],this.totalItem=this.itemsAll.length,this.calculateItems(),console.log("this.itemsActive: ",this.itemsAll))},e=>{this.spinnerService.hide()})}calculateItems(){this.itemstable=this.itemsAll.slice((this.currentPage-1)*this.itemPerPage,(this.currentPage-1)*this.itemPerPage+this.itemPerPage),console.log("this.itemtable",this.itemstable)}pageChange(e){console.log("event page change: ",e),this.currentPage=e,this.calculateItems()}itemPerPageChange(e){console.log("itemPerPageChange: ",e),this.itemPerPage=e,this.calculateItems()}onSearch(){this.currentPage=1;let e=this.formSearch.value.productName||[];e&&e.length>0?(console.log("arrSearch: ",e),this.itemsAll=this.itemsAll.filter(t=>e.includes(t.id))):(console.log("arrSearch not ok",e),this.itemsAll=[...this.itemsDefault]),console.log("data after search: ",this.itemsAll,this.itemsDefault),this.totalItem=this.itemsAll.length,this.calculateItems()}onCreate(){this.router.navigate(["operate/product/create"])}onDetail(e){this.router.navigate([`operate/product/update/${e.id}`])}convertType(e){return e===u.ITEM_TYPE.SINGLE.code?u.ITEM_TYPE.SINGLE.name:u.ITEM_TYPE.DOUBLE.name}onDelete(e){console.log("delete item",e),this.modalService.open(O,{title:"X\xE1c nh\u1EADn",message:"B\u1EA1n c\xF3 ch\u1EAFc mu\u1ED1n x\xF3a h\xE0ng h\xF3a?"}).componentInstance.confirmed.subscribe(o=>{o&&this.delete(e.id)})}delete(e){this.spinnerService.show(),this.itemService.deleteItem(e).subscribe(t=>{this.spinnerService.hide(),t&&t.status&&t.status.code===u.STATUS.SUCCESS&&t.data?(this.toastr.success("X\xF3a h\xE0ng h\xF3a th\xE0nh c\xF4ng!","Th\xF4ng b\xE1o"),this.formSearch=this.fb.group({productName:[""]}),this.getAllItems()):this.toastr.success("X\xF3a h\xE0ng h\xF3a th\u1EA5t b\u1EA1i!","Th\xF4ng b\xE1o")},t=>{this.spinnerService.hide()})}onUpdateProduct(){}};m.\u0275fac=function(t){return new(t||m)(d(U),d(N),d($),d(F),d(X),d(q))},m.\u0275cmp=C({type:m,selectors:[["app-product-management"]],standalone:!0,features:[A],decls:42,vars:7,consts:[[1,"align-items-center",3,"formGroup"],[1,"row","mt-3"],[1,"col-md-2","col-sm-4","col-xs-12"],[1,"form-label","col-form-label"],[1,"col-md-4","col-sm-8","col-xs-12"],["formControlName","productName",3,"searchable","multiple","items"],[1,"col-12","text-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-search"],["type","button",1,"btn","btn-primary-custom","ml-20",3,"click"],[1,"fa","fa-plus"],[1,"table-responsive","radius-table",2,"width","100%!important"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[3,"pageChange","itemPerPageChange","currentPage","totalItems"],[1,"text-center",3,"width"],[1,"min-width-cl",3,"width"],["alt","",2,"width","100px","height","100px",3,"src"],[1,"min-width-cl","text-center",3,"width"],[1,"cursor-pointer","hover-color-red","font-size-18","color-black",3,"click","cTooltip"],[1,"fa","fa-pencil-square-o"],[1,"cursor-pointer","hover-color-red","font-size-18","ml-5","color-black",3,"click","cTooltip"],[1,"fa","fa-trash-o"]],template:function(t,o){t&1&&(i(0,"div",0)(1,"h4"),a(2,"Qu\u1EA3n l\xFD h\xE0ng h\xF3a"),n(),i(3,"div",1)(4,"div",2)(5,"label",3),a(6," T\xEAn s\u1EA3n ph\u1EA9m"),n()(),i(7,"div",4),p(8,"app-selection",5),n()(),i(9,"div",1)(10,"div",6)(11,"button",7),g("click",function(){return o.onSearch()}),p(12,"i",8),a(13," T\xECm ki\u1EBFm"),n(),i(14,"button",9),g("click",function(){return o.onCreate()}),p(15,"i",10),a(16," Th\xEAm m\u1EDBi "),n()()(),i(17,"h5"),a(18,"Danh s\xE1ch s\u1EA3n ph\u1EA9m"),n(),i(19,"div",11)(20,"table",12)(21,"thead")(22,"tr")(23,"th"),a(24,"#"),n(),i(25,"th"),a(26,"M\xE3 h\xE0ng h\xF3a"),n(),i(27,"th"),a(28,"T\xEAn h\xE0ng h\xF3a"),n(),i(29,"th"),a(30,"Lo\u1EA1i slot"),n(),i(31,"th"),a(32,"H\xECnh \u1EA3nh"),n(),i(33,"th"),a(34,"Gi\xE1 nh\u1EADp"),n(),i(35,"th"),a(36,"Gi\xE1 hi\u1EC3n th\u1ECB"),n(),i(37,"th"),a(38,"Thao t\xE1c"),n()()(),i(39,"tbody"),T(40,R,22,21,"tr",13),n()()(),i(41,"app-pagination",14),g("pageChange",function(S){return o.pageChange(S)})("itemPerPageChange",function(S){return o.itemPerPageChange(S)}),n()()),t&2&&(l("formGroup",o.formSearch),r(8),l("searchable",!0)("multiple",!0)("items",o.itemsDefault),r(32),l("ngForOf",o.itemstable),r(),l("currentPage",o.currentPage)("totalItems",o.totalItem))},dependencies:[w,G,k,M,B,j,L,V,D,z]});let s=m;return s})();export{ce as ProductManagementComponent};
