import{a as k}from"./chunk-FFKZRMDL.js";import{a as j}from"./chunk-BNZEDEBD.js";import"./chunk-XJQMJ5FV.js";import"./chunk-BKZFVQBW.js";import{a as B}from"./chunk-CI3TO52C.js";import{a as I}from"./chunk-ZJO5XFAT.js";import{c as x,e as w,f as N,k as A,n as T,s as F,t as M,u as R}from"./chunk-3AEYLFKI.js";import{a as y}from"./chunk-HNKJNLW6.js";import"./chunk-AFJOMKLS.js";import{d as _}from"./chunk-TN45MXFT.js";import"./chunk-4C57YJA5.js";import{Bc as D,Cc as b,Fb as C,Qa as n,Qb as r,Ra as g,Rb as h,Yb as S,kb as v,la as P,mb as m,ob as E,wb as t,xb as e,yb as u}from"./chunk-ZFL4TBTD.js";import"./chunk-4L4RMVSS.js";function O(){return o=>{let l=o.get("fromDate")?.value,c=o.get("toDate")?.value;return!l||!c?null:new Date(l)>new Date(c)?{dateRangeInvalid:!0}:null}}function G(o,l){o&1&&(t(0,"div",18),r(1,' "T\u1EEB ng\xE0y" kh\xF4ng \u0111\u01B0\u1EE3c l\u1EDBn h\u01A1n "\u0110\u1EBFn ng\xE0y"! '),e())}function J(o,l){if(o&1&&(t(0,"tr")(1,"td",19),r(2),e(),t(3,"td",19),r(4),e(),t(5,"td",20),r(6),e(),u(7,"td",20),t(8,"td",20),r(9),e(),u(10,"td",20)(11,"td",20),e()),o&2){let c=l.$implicit,i=l.index;n(),m("width","5%"),n(),h(i+1),n(),m("width","5%"),n(),h(c.id),n(),m("width","30%"),n(),h(c.name),n(),m("width","30%"),n(),m("width","30%"),n(),h(c.status),n(),m("width","30%"),n(),m("width","30%")}}var Z=(()=>{let l=class l{constructor(i,d,a,s){this.fb=i,this.router=d,this.priceCampaignService=a,this.spinnerService=s,this.itemList=[{id:1,firstName:"Johnddddddddddddddddddddd",lastName:"Doe",email:"john.doe@example.com"},{id:2,firstName:"Jane",lastName:"Doe",email:"jane.doe@example.com"},{id:3,firstName:"Alice",lastName:"Smith",email:"alice.smith@example.com"},{id:4,firstName:"Bob",lastName:"Johnson",email:"bob.johnson@example.com"},{id:5,firstName:"Emily",lastName:"Williams",email:"emily.williams@example.com"}],this.itemsDefault=[],this.itemsAll=[],this.itemstable=[],this.totalItem=0,this.currentPage=1,this.itemPerPage=10}ngOnInit(){this.form=this.fb.group({name:[""],fromDate:"",toDate:""},{validator:O()}),this.getAllPriceCampaigns()}getAllPriceCampaigns(){this.spinnerService.show(),this.priceCampaignService.getAllPriceCampaign().subscribe(i=>{console.log("res all device: ",i),this.spinnerService.hide(),i&&i.status&&i.status.code==I.STATUS.SUCCESS&&(i.data.forEach(d=>{d.value=d.name,d.key=d.id}),this.itemsDefault=i.data,this.itemsAll=[...this.itemsDefault],this.totalItem=this.itemsAll.length,this.calculateItems())})}calculateItems(){this.itemstable=this.itemsAll.slice((this.currentPage-1)*this.itemPerPage,(this.currentPage-1)*this.itemPerPage+this.itemPerPage),console.log("this.itemtable",this.itemstable)}pageChange(i){console.log("event page change: ",i),this.currentPage=i,this.calculateItems()}itemPerPageChange(i){console.log("itemPerPageChange: ",i),this.itemPerPage=i,this.calculateItems()}onSearch(){console.log(this.form.value)}onCreate(){this.router.navigate(["admin/price-campaign/create"])}onDetail(i){this.router.navigate([`admin/advertisement-management/update/${i.id}`])}get dateRangeInvalid(){return this.form.hasError("dateRangeInvalid")}};l.\u0275fac=function(d){return new(d||l)(g(F),g(_),g(k),g(y))},l.\u0275cmp=P({type:l,selectors:[["app-price-campaign-management"]],standalone:!0,features:[S],decls:45,vars:10,consts:[[1,"align-items-center","search-price-campaign",3,"formGroup"],[1,""],[1,"row","mt-3"],[1,"col-md-2","col-sm-4","col-xs-12"],[1,"form-label","col-form-label"],[1,"col-md-4","col-sm-8","col-xs-12"],["formControlName","name",3,"searchable"],[1,"input-date-range"],["formControlName","fromDate","type","date",1,"form-control","custom-date-input",2,"max-width","45%"],["formControlName","toDate","type","date",1,"form-control","custom-date-input",2,"max-width","45%"],["class","text-danger mt-1",4,"ngIf"],[1,"col-12","text-center"],["type","button",1,"btn","btn-primary",3,"click"],[1,"fa","fa-search"],[1,"table-responsive","radius-table",2,"width","100%!important"],[1,"table","table-striped","table-hover"],[4,"ngFor","ngForOf"],[3,"pageChange","itemPerPageChange","currentPage","totalItems"],[1,"text-danger","mt-1"],[1,"text-center",3,"width"],[1,"min-width-cl",3,"width"]],template:function(d,a){if(d&1&&(t(0,"div",0)(1,"h4",1),r(2,"Qu\u1EA3n l\xFD campaign gi\xE1"),e(),t(3,"div",2)(4,"div",3)(5,"label",4),r(6," T\xEAn campaign"),e()(),t(7,"div",5),u(8,"app-selection",6),e(),t(9,"div",3)(10,"label",4),r(11," Th\u1EDDi gian"),e()(),t(12,"div",5)(13,"div",7),u(14,"input",8)(15,"input",9),e(),v(16,G,2,0,"div",10),e()(),t(17,"div",2)(18,"div",11)(19,"button",12),C("click",function(){return a.onSearch()}),u(20,"i",13),r(21," T\xECm ki\u1EBFm"),e()()(),t(22,"h5"),r(23,"Danh s\xE1ch qu\u1EA3ng c\xE1o"),e(),t(24,"div",14)(25,"table",15)(26,"thead")(27,"tr")(28,"th"),r(29,"#"),e(),t(30,"th"),r(31,"ID"),e(),t(32,"th"),r(33,"T\xEAn campaign"),e(),t(34,"th"),r(35,"Th\u1EDDi gian"),e(),t(36,"th"),r(37,"Tr\u1EA1ng th\xE1i"),e(),t(38,"th"),r(39,"Khu v\u1EF1c"),e(),t(40,"th"),r(41,"T\xEAn m\xE1y"),e()()(),t(42,"tbody"),v(43,J,12,11,"tr",16),e()()(),t(44,"app-pagination",17),C("pageChange",function(p){return a.pageChange(p)})("itemPerPageChange",function(p){return a.itemPerPageChange(p)}),e()()),d&2){let s,p,f;m("formGroup",a.form),n(8),m("searchable",!0),n(6),E("is-invalid",a.dateRangeInvalid&&((s=a.form.get("fromDate"))==null?null:s.value)&&((s=a.form.get("toDate"))==null?null:s.value)),n(),E("is-invalid",a.dateRangeInvalid&&((p=a.form.get("fromDate"))==null?null:p.value)&&((p=a.form.get("toDate"))==null?null:p.value)),n(),m("ngIf",a.dateRangeInvalid&&((f=a.form.get("fromDate"))==null?null:f.value)&&((f=a.form.get("toDate"))==null?null:f.value)),n(27),m("ngForOf",a.itemstable),n(),m("currentPage",a.currentPage)("totalItems",a.totalItem)}},dependencies:[M,x,w,N,R,A,T,j,B,D,b],styles:[".search-price-campaign[_ngcontent-%COMP%]   .input-date-range[_ngcontent-%COMP%]{display:flex;justify-content:space-between}"]});let o=l;return o})();export{Z as PriceCampaignManagementComponent};
